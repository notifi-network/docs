"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8200],{1282:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=t(4848),a=t(8453);const i={},r="Custom Alert Templates",o={id:"alert-design/custom-alert-templates",title:"Custom Alert Templates",description:"Notifi uses templates to render the same notification in different forms for different channels such as email, Telegram, and SMS. We use Mustache templates, and you can try out a demo here//mustache.github.io/#demo",source:"@site/versioned_docs/version-1.1.0/alert-design/custom-alert-templates.md",sourceDirName:"alert-design",slug:"/alert-design/custom-alert-templates",permalink:"/docs/alert-design/custom-alert-templates",draft:!1,unlisted:!1,editUrl:"https://github.com/notifi-network/notifi-network.github.io/blob/main/versioned_docs/version-1.1.0/alert-design/custom-alert-templates.md",tags:[],version:"1.1.0",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Using Community Manager",permalink:"/docs/alert-design/community-manager"},next:{title:"Custom Email Templates (outdated)",permalink:"/docs/alert-design/custom-email-templates"}},l={},c=[];function d(e){const n={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"custom-alert-templates",children:"Custom Alert Templates"}),"\n",(0,s.jsxs)(n.p,{children:["Notifi uses templates to render the same notification in different forms for different channels such as email, Telegram, and SMS. We use ",(0,s.jsx)(n.a,{href:"https://mustache.github.io/mustache.5.html",children:"Mustache templates"}),", and you can try out a demo here: ",(0,s.jsx)(n.a,{href:"https://mustache.github.io/#demo",children:"https://mustache.github.io/#demo"})]}),"\n",(0,s.jsx)(n.p,{children:"When developing your template, keep the following in mind:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The variables you\u2019re providing via ",(0,s.jsx)(n.a,{href:"https://",children:"API calls"})," or ",(0,s.jsx)(n.a,{href:"https://",children:"Notifi Hosted"})]}),"\n",(0,s.jsx)(n.li,{children:"System variables cannot be overridden, but can be used in the template."}),"\n",(0,s.jsx)(n.li,{children:"The maximum template size after expansion is:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"a. Email - 32kb"}),"\n",(0,s.jsx)(n.p,{children:"b. SMS - 140 ASCII characters"}),"\n",(0,s.jsx)(n.p,{children:"c. Telegram - 4kb (4096 ASCII characters)"}),"\n",(0,s.jsx)(n.p,{children:"In the examples below, we will assume either an API call was formed or event payload in Notifi Hosted was returned that resembles below code snippets."}),"\n",(0,s.jsx)(n.p,{children:"Example topic id (eventTypeId): abcd1234\nExample comparisonValue: 1234"}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Notifi Node publishFusionMessage API call"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const fusionMessage = {\n    eventTypeId: 'abcd1234',\n    variablesJson: {\n        Email: {\n            subject: 'demo test',\n            someData: 'foo bar',\n            moreData: 'bang',\n        },\n        Platform: {\n            subject: 'demo test',\n            someData: 'foo bar',\n            moreData: 'bang',\n        },\n\n    }\n};\nawait client.publishFusionMessage(token, fusionMessage);\n"})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Notifi Hosted parser returned event object"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  eventTypeId: "abcd1234",\n  comparisonValue: "1234",\n  blockchain: 4,\n  changeSignature: transactionhash",\n  metadata: {\n    subject: "demo test"\n    someData: "foo bar",\n    moreData: "bang"\n  }\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"If you create an email template which looks like this, the variables from the above snippets of code would need to be represented as such:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<html>\n<body>\n<h2>Hi {{userName}},</h2>\nOur service is notifying you about {{anotherVariable}}!\n\nSincerely,\n{{anotherVariable1}}\n</body>\n</html>\n"})}),"\n",(0,s.jsx)(n.p,{children:"It will render as the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<html>\n<body>\n<h2>Hi Juni Kim,</h2>\nOur service is notifying you about foo!\n\nSincerely,\nThe degens\n</body>\n</html>\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": Based on the email client that your recipeint is using, HTML may render differently. Please refer to ",(0,s.jsx)(n.a,{href:"https://www.smashingmagazine.com/2021/04/complete-guide-html-email-templates-tools/",children:"this link"})," for a quick overview on some basic pitfalls."]}),"\n",(0,s.jsx)(n.p,{children:"For SMS, since the message has a short maximum length, you can simply tell the user:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"Notification for {{anotherVariable}}"})}),"\n",(0,s.jsxs)(n.p,{children:["For Telegram Templates, please refer to this guide on supported tags:\n",(0,s.jsx)(n.a,{href:"https://core.telegram.org/api/entities",children:"https://core.telegram.org/api/entities"})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:" Example 2: Sending via client SDK a Broadcast Message."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'const handleSubmit = useCallback(\n    async (t: UserTopic | undefined) => {\n      if (t === undefined) {\n        return;\n      }\n      try {\n        broadcastMessage(\n          {\n            topic: t,\n            subject: \u2018some subject\u2019,\n            message: \u2018your message to users\u2019,\n            isHolderOnly: false,\n          },\n          signer\n        );\n      } catch (e: unknown) {\n        console.log("Error during broadcastMessage", e);\n      }\n    },\n    [broadcastMessage, signer]\n  );\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"If you create an email template which looks like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<html>\n<body>\n{{subject}}\n\n{{message}}\n</body>\n</html>\n"})}),"\n",(0,s.jsx)(n.p,{children:"It will render as the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<html>\n<body>\nsome subject\n\nyour message to users\n</body>\n</html>\n"})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);