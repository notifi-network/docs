"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6899],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),m=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=m(e.components);return a.createElement(i.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=m(n),d=r,h=u["".concat(i,".").concat(d)]||u[d]||c[d]||o;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[u]="string"==typeof e?e:r,l[1]=s;for(var m=2;m<o;m++)l[m]=n[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2897:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var a=n(7462),r=(n(7294),n(3905));const o={},l="Custom Alert Templates",s={unversionedId:"alert-design/custom-alert-templates",id:"alert-design/custom-alert-templates",title:"Custom Alert Templates",description:"Notifi uses templates to render the same notification in different forms for different channels such as email, Telegram, and SMS. We use Mustache templates, and you can try out a demo here//mustache.github.io/#demo",source:"@site/docs/alert-design/custom-alert-templates.md",sourceDirName:"alert-design",slug:"/alert-design/custom-alert-templates",permalink:"/docs/next/alert-design/custom-alert-templates",draft:!1,editUrl:"https://github.com/notifi-network/notifi-network.github.io/blob/main/docs/alert-design/custom-alert-templates.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Using Community Manager",permalink:"/docs/next/alert-design/community-manager"},next:{title:"Custom Email Templates (outdated)",permalink:"/docs/next/alert-design/custom-email-templates"}},i={},m=[],p={toc:m},u="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"custom-alert-templates"},"Custom Alert Templates"),(0,r.kt)("p",null,"Notifi uses templates to render the same notification in different forms for different channels such as email, Telegram, and SMS. We use ",(0,r.kt)("a",{parentName:"p",href:"https://mustache.github.io/mustache.5.html"},"Mustache templates"),", and you can try out a demo here: ",(0,r.kt)("a",{parentName:"p",href:"https://mustache.github.io/#demo"},"https://mustache.github.io/#demo")),(0,r.kt)("p",null,"When developing your template, keep the following in mind:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The variables you\u2019re providing via ",(0,r.kt)("a",{parentName:"p",href:"https://"},"API calls")," or ",(0,r.kt)("a",{parentName:"p",href:"https://"},"Notifi Hosted"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"System variables cannot be overridden, but can be used in the template.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The maximum template size after expansion is:"),(0,r.kt)("p",{parentName:"li"},"a. Email - 32kb"),(0,r.kt)("p",{parentName:"li"},"b. SMS - 140 ASCII characters"),(0,r.kt)("p",{parentName:"li"},"c. Telegram - 4kb (4096 ASCII characters)"))),(0,r.kt)("p",null,"In the examples below, we will assume either an API call was formed or event payload in Notifi Hosted was returned that resembles below code snippets."),(0,r.kt)("p",null,"Example topic id (eventTypeId): abcd1234\nExample comparisonValue: 1234"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Notifi Node publishFusionMessage API call"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const fusionMessage = {\n    eventTypeId: 'abcd1234',\n    variables: {\n        Email: {\n            subject: 'demo test',\n            someData: 'foo bar',\n            moreData: 'bang',\n        },\n        Platform: {\n            subject: 'demo test',\n            someData: 'foo bar',\n            moreData: 'bang',\n        },\n\n    }\n};\nawait client.publishFusionMessage(token, fusionMessage);\n"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Notifi Hosted parser returned event object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  eventTypeId: "abcd1234",\n  comparisonValue: "1234",\n  blockchain: 4,\n  changeSignature: transactionhash",\n  metadata: {\n    subject: "demo test"\n    someData: "foo bar",\n    moreData: "bang"\n  }\n}\n'))),(0,r.kt)("p",null,"If you create an email template which looks like this, the variables from the above snippets of code would need to be represented as such:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<html>\n<body>\n<h2>Hi {{userName}},</h2>\nOur service is notifying you about {{anotherVariable}}!\n\nSincerely,\n{{anotherVariable1}}\n</body>\n</html>\n")),(0,r.kt)("p",null,"It will render as the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<html>\n<body>\n<h2>Hi Juni Kim,</h2>\nOur service is notifying you about foo!\n\nSincerely,\nThe degens\n</body>\n</html>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note"),": Based on the email client that your recipeint is using, HTML may render differently. Please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://www.smashingmagazine.com/2021/04/complete-guide-html-email-templates-tools/"},"this link")," for a quick overview on some basic pitfalls."),(0,r.kt)("p",null,"For SMS, since the message has a short maximum length, you can simply tell the user:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Notification for {{anotherVariable}}")),(0,r.kt)("p",null,"For Telegram Templates, please refer to this guide on supported tags:\n",(0,r.kt)("a",{parentName:"p",href:"https://core.telegram.org/api/entities"},"https://core.telegram.org/api/entities")),(0,r.kt)("details",null,(0,r.kt)("summary",null," Example 2: Sending via client SDK a Broadcast Message."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'const handleSubmit = useCallback(\n    async (t: UserTopic | undefined) => {\n      if (t === undefined) {\n        return;\n      }\n      try {\n        broadcastMessage(\n          {\n            topic: t,\n            subject: \u2018some subject\u2019,\n            message: \u2018your message to users\u2019,\n            isHolderOnly: false,\n          },\n          signer\n        );\n      } catch (e: unknown) {\n        console.log("Error during broadcastMessage", e);\n      }\n    },\n    [broadcastMessage, signer]\n  );\n'))),(0,r.kt)("p",null,"If you create an email template which looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<html>\n<body>\n{{subject}}\n\n{{message}}\n</body>\n</html>\n")),(0,r.kt)("p",null,"It will render as the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<html>\n<body>\nsome subject\n\nyour message to users\n</body>\n</html>\n")))}c.isMDXComponent=!0}}]);